<div class="anchaanfang" ng-controller="anchaanfangLedgerAddCtrl" ng-init="init()">
    <div class="wrapper-md ">
        <div class="panel panel-default m-n">
            <div class="panel-body" style="position: relative;">
                <span class="tag">暗查暗访</span><span class="tag-right"></span><span class="tag-right tag-left"></span><span class="tag tag1">{{!id ? '添加' : '编辑'}}台账</span><span class="tag-right"></span>
                <div style="overflow: hidden;"><button type="button" class="btn btn-primary" ng-click="goBack()" style="position: absolute;right: 20px;bottom: 20px;">返回</button></div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-body">
                <form class="form-inline" style="padding-left: 25%;">
                    <div class="form-item" >
                        <label><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加人</font></font></label>
                        <input type="text" class="form-control input-short" ng-model="name" style="margin-left: -20px;width:180px">
                        <span class="required"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span>
                    </div>
                    <div class="form-item" >
                        <label><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">职务</font></font></label>
                        <input type="text" class="form-control input-short" ng-model="duty" style="margin-left: 5px">
                        <span class="required"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span>
                    </div>
                    <br>
                    <div class="input-group date date_picker form-item" id="J-searchTime">
                        <label class="near"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加时间</font></font></label>
                        <input type="text" class="form-control input-short-o ng-pristine ng-valid ng-touched" placeholder="请选择日期" ng-model="searchTime" style="width: 150px;">
                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                    </div>
                    <div class="form-item" >
                        <label><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约谈对象</font></font></label>
                        <input type="text" class="form-control input-short" ng-model="object" style="margin-left: 10px">
                        <span class="required"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span>
                    </div>
                    <br>
                    <div class="form-item" >
                        <label><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">约谈内容</font></font></label>
                        <textarea class="form-control" id="" name="deblock_udid" ng-model="content" rows="3" style="margin-left: -20px!important;"></textarea>
                        <span class="required"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span>
                    </div>
                    <div class="form-item" >
                        <label><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问责类型</font></font></label>
                        <input type="text" class="form-control input-short" ng-model="accountabilitytype">
                        <span class="required"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span>
                    </div>
                    <br>
                    <div class="form-item" >
                        <label><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备注</font></font></label>
                        <textarea class="form-control" id="" name="deblock_udid" ng-model="remark" rows="3" style="margin-left: -20px!important;"></textarea>
                        <span class="required"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span>
                    </div>
                    <div class="form-item" >
                        <label><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附件</font></font></label>
                        <input type="text" class="form-control input-short" ng-model="fileName">
                        <button type="button" class="btn btn-primary" ng-click="getUploadFile()">预览</button>
                    </div>
                </form>
                <div style="text-align: center;margin: 35px 0;">
                    <button type="button" class="btn btn-primary" style="margin: 0 50px;" ng-click="submit()" >确定</button>
                    <button type="button" class="btn btn-default" ng-click="back()">取消</button>
                </div>
            </div>
        </div>

        <!--描述：附件-->
        <div class="modal fade" id="coverModal" data-backdrop="static">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <li class="fa fa-remove"></li>
                        </button>
                        <h4>上传附件</h4>

                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <div class="wid-100 announcementCoverPanel">
                                    <input class="uploadfile" type="file" name="file">
                                </div>
                            </div>
                        </form>
                    </div>.
                    <div class="modal-footer">
                        <a href="javascript:;" class="btn btn-primary btn-o" ng-click="getUpload()">
                            <i class="fa fa-check"></i>
                            <span>确定</span>
                        </a>
                        <a href="javascript:;" class="btn btn-default btn-o" data-dismiss="modal">
                            <i class="fa fa-reply"></i>
                            <span>取消</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<script>
    $(".uploadfile").fileinput({
        allowedFileExtensions: [],
        uploadAsync: true, //默认异步上传
        showRemove: true, //显示移除按钮
        maxFileCount: 1, //表示允许同时上传的最大文件个数
        language: 'zh', //设置语言
        uploadUrl: '#', //上传的地址
        showUpload: false, //显示批量上传按钮
        showCaption: true, //是否显示标题
        browseClass: "btn btn-primary", //按钮样式
        showPreview: true, //是否显示预览
        dropZoneEnabled: true, //是否显示拖拽区域
        validateInitialCount: true,
        slugCallback: function(filename) {
            return filename.replace('(', '_').replace(']', '_');
        }
    });
</script>
