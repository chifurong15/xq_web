<div ng-controller="imReachAdd" ng-init="init()">
	<div id="wrapperMd" class="wrapper-md">
		<div class="panel panel-default m-all-0 border-bottom-n">
			<div class="panel-body pos-rlt">
				<form class="form-inline">
					<div id="left" class="left-panel wid-70 dis-i-blc">
						<div class="form-item">
							<label>所属河流</label>
							<input ng-model="reach.pName" type="text" class="form-control input-short-o" ng-click="riverShow()" readonly>
							<a class="input-group-addon" ng-click="riverShow()"><i class="fa fa-search"></i></a>
							<span class="required">*</span>
						</div>
						<div class="form-item">
							<label>所属区域</label>
							<input ng-model="reach.regionName" type="text" class="form-control input-short-o" ng-click="regionShow()" readonly>
							<a class="input-group-addon" ng-click="regionShow()"><i class="fa fa-search"></i></a>
                            <span class="required">*</span>
						</div>
						<div class="form-item">
							<label>河段名称</label>
							<input id="reachName" ng-model="reach.reachName" type="text" class="form-control input-short" ng-blur="isRepeat();">
							<span class="required">*</span>
						</div>
						<br>
						<div class="form-item">
							<label>河段别名</label>
							<input ng-model="reach.alias" type="text" class="form-control input-short"/>
						</div>
						<div class="form-item">
							<label>河段级别</label>
							<select ng-init="rivePart()" ng-model="reach.grade" ng-options="rp.typeValue as rp.typeName for rp in rivePartList" class="form-control select-short">
	                            <option value="">请选择</option>
	                        </select>
	                        <span class="required">*</span>
						</div>
						<div class="form-item">
							<label>水质等级</label>
							<select ng-init="waterQuality()" ng-model="reach.waterGrade" ng-options="wq.typeValue as wq.typeName for wq in waterQualityList" class="form-control select-short">
	                            <option value="">请选择</option>
	                        </select>
						</div>
						<div class="form-item">
							<label>河段岸别</label>
							<select ng-init="waterShore()" ng-model="reach.shore" ng-options="ws.typeValue as ws.typeName for ws in waterShoreList" class="form-control select-short">
                                <option  value="">请选择</option>
                            </select>
                            <span class="required">*</span>
						</div>
						<div class="form-item">
							<label>起点</label>
							<input type="text" class="form-control input-short" ng-model="reach.startPoint">
						</div>
						 <div class="form-item">
                            <label>起点断面</label>
                            <input type="text" class="form-control input-short-o" ng-model="reach.startSectionName" ng-click="sectionShow(1)" readonly>
                            <a class="input-group-addon" ng-click="sectionShow(1)"><i class="fa fa-search"></i></a>
                        </div>
						<div class="form-item">
							<label>终点</label>
							<input type="text" class="form-control input-short" ng-model="reach.endPoint">
						</div>
						 <div class="form-item">
                            <label>终点断面</label>
                            <input type="text" class="form-control input-short-o" ng-model="reach.endSectionName" ng-click="sectionShow(2)" readonly>
                            <a class="input-group-addon" ng-click="sectionShow(2)"><i class="fa fa-search"></i></a>
                        </div>
                        <div class="form-item">
							<label>长度</label>
							<input ng-model="reach.length" type="text" class="form-control input-short-o" maxlength="10">
							<span class="input-group-addon"><i>km</i></span>
						</div>
						<div class="form-item">
							<label>宽度</label>
							<input ng-model="reach.width" type="text" class="form-control input-short-o" maxlength="10">
							<span class="input-group-addon"><i>km</i></span>
						</div>
						<div class="form-item">
							<label>淤积情况</label>
							<select ng-init="deposit()" ng-model="reach.silty" ng-options="ds.typeValue as ds.typeName for ds in depositList" class="form-control select-short">
	                            <option  value="">请选择</option>
	                        </select>
						</div>
						<div class="form-item">
							<label>是否位于山区</label>
							<select ng-init="mountain()" ng-model="reach.whether" ng-options="wm.typeValue as wm.typeName for wm in mountainList" class="form-control select-short">
	                            <option value="">请选择</option>
	                        </select>
						</div>
						<div class="form-item">
							<label>是否虚拟</label>
							<select ng-init="virtual()" ng-model="reach.isVirtual" ng-options="wv.typeValue as wv.typeName for wv in virtualList" class="form-control select-short">
	                            <option value="">请选择</option>
	                        </select>
	                        <span class="required">*</span>
						</div>
						<br>
						<div class="form-item">
                            <label>流经区域</label>
                            <input type="text" class="form-control input-short-o" ng-model="reach.throughAreaName" ng-click="regionShow('multiple')">
                            <a class="input-group-addon" ng-click="regionShow('multiple')"><i class="fa fa-search"></i></a>
                        </div>
						<br>
						<remark-edit obj="reach"></remark-edit>
						<file-upload imgblock="true" fileblock="true" imgs="reach.jsonImages" files="reach.jsonFiles"></file-upload>
					</div>
					<!-- map -->
					<div class="float-right-panel wid-25 dis-i-blc" ng-class="{true:'expandMap', false:'compressMap'}[mapMin]" ng-init="mapMin = true; mapType = 'line'; objOpera = 'add'">
	                    <basic-map obj="reach" map-min="mapMin" map-type="mapType" obj-opera="objOpera"></basic-map>
                    </div>
				</form>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-body">
				<related-chief obj="reach" watertype="river"></related-chief>
			</div>
			<div class="panel-footer m-b-10">
				<div class="btn-box">
					<button type="submit" class="btn btn-primary" ng-click="submit()">保存</button>
					<button type="submit" class="btn btn-default" ng-click="back()">返回</button>
				</div>
			</div>
		</div>
	</div>
	<tree-modal modal-tree-info = "{{modalTreeInfo}}"></tree-modal>
</div>