<div class="anchaanfang" ng-controller="kaoheResultCtrl" ng-init="init()">
    <div class="wrapper-md ">
        <div class="panel panel-default m-n">
            <div class="panel-body" style="position: relative;">
                <span class="tag">考核结果</span><span class="tag-right"></span>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-body">
                <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
                    <ul class="layui-tab-title">
                        <li class="layui-this">区考核排名</li>
                        <li>河湖水生态环境质量排名</li>
                    </ul>
                    <div class="layui-tab-content">
                        <!--区考核排名-->
                        <div class="layui-tab-item layui-show">
                            <div class="panel-body">
                                <form class="form-inline clearfix">
                                    <div class="input-group date date_picker form-item" id="J-searchTime1">
                                        <label class="near"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">月份</font></font></label>
                                        <input type="text" class="form-control input-short-o ng-pristine ng-valid ng-touched" placeholder="请选择日期" ng-model="searchTime1">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    </div>
                                    <div class="input-group">
                                        <button class="btn btn-primary" ng-click="search1()">
                                            <i class="fa fa-search"></i>搜索
                                        </button>
                                    </div>
                                </form>
                                <div class="tab-content">
                                    <div class="tab-pane active" id="tableStatistics1">
                                        <div class="table-responsive" style="margin-top: 20px;">
                                            <table class="table table-bordered table-hover">
                                                <tbody>
                                                <tr class='tHeader'>
                                                    <th width="5%">排名</th>
                                                    <th width="10%">区</th>
                                                    <th width="20%">区域地表水环境质量考核成绩(45%)</th>
                                                    <th width="20%">河湖水生态环境质量考核成绩(45%)</th>
                                                    <th width="20%">社会监督评价考核成绩(10%)</th>
                                                    <th width="20%">月度考核总成绩</th>
                                                </tr>
                                                <tr ng-repeat="val in regionSortList">
                                                    <td>{{$index+1}}</td>
                                                    <td>{{val.regionName}}</td>
                                                    <td>{{val.surfaceWaterScore}}</td>
                                                    <td>{{val.riverStatisticScore}}</td>
                                                    <td>{{val.supervisionScore}}</td>
                                                    <td>{{val.resultScore}}</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="chartStatistics1">
                                        <div id="patrolChart1" class="tj-chart-con"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--河湖水生态环境质量排名-->
                        <div class="layui-tab-item">
                            <div class="panel-body">
                                <form class="form-inline clearfix">
                                    <div class="input-group date date_picker form-item" id="J-searchTime2">
                                        <label class="near"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">月份</font></font></label>
                                        <input type="text" class="form-control input-short-o ng-pristine ng-valid ng-touched" placeholder="请选择日期" ng-model="searchTime2">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    </div>
                                    <div class="input-group">
                                        <button class="btn btn-primary" ng-click="search2()">
                                            <i class="fa fa-search"></i>搜索
                                        </button>
                                    </div>
                                </form>
                                <div class="tab-content">
                                    <div class="tab-pane active" id="tableStatistics2">
                                        <div class="table-responsive" style="margin-top: 20px;">
                                            <table class="table table-bordered table-hover">
                                                <tbody>
                                                <tr class='tHeader'>
                                                    <th width="5%">排名</th>
                                                    <th width="10%">区</th>
                                                    <th width="10%">河湖水质(70%)</th>
                                                    <th width="15%">河湖堤岸水面环境卫生(15%)</th>
                                                    <th width="15%">河湖岸线管理(15%)</th>
                                                    <th width="15%">河长巡河扣分成绩</th>
                                                    <th width="15%">月度考核成绩</th>
                                                </tr>
                                                <tr ng-repeat="item in envirSortList">
                                                    <td>{{$index+1}}</td>
                                                    <td>{{item.regionName}}</td>
                                                    <td>{{item.riverScore}}</td>
                                                    <td>{{item.hygieneScore}}</td>
                                                    <td>{{item.shorelineScore}}</td>
                                                    <td>{{item.deductionScore}}</td>
                                                    <td>{{item.resultScore}}</td>
                                                </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="chartStatistics2">
                                        <div id="patrolChart2" class="tj-chart-con"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    layui.use('element', function () {
        var $ = layui.jquery
            , element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块

        //触发事件
        var active = {
            tabChange: function () {
                //切换到指定Tab项
                element.tabChange('demo', '22'); //切换到：用户管理
            }
        };

        $('.site-demo-active').on('click', function () {
            var othis = $(this), type = othis.data('type');
            active[type] ? active[type].call(this, othis) : '';
        });

        element.on('tab(test)', function (elem) {
            location.hash = 'test=' + $(this).attr('lay-id');
        });

    });
</script>